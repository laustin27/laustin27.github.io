<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Housing</title>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">

    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>

    <!-- Popper JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <link href="housing.css" type="text/css" rel="stylesheet">
</head>
<body style="background-color: #DCDCDC;">
<div class="container">
    <h2>Welcome to the housing form! Fill it out and press submit</h2>
    <form>
        <div class="row mt-5">
            <div class="col-sm-12">
                <label for="address">Address</label>
                <div class="input-group">
                    <input type="text" class="form-control" id="address" name="address">
                </div>
            </div>
        </div>
        <div class="row mt-5">
            <div class="col-sm-6">
                <label for="beds">Beds</label>
                <div class="input-group">
                    <input type="text" class="form-control" id="beds" name="beds">
                </div>
            </div>
            <div class="col-sm-6">
                <label for="bath">Bath</label>
                <div class="input-group">
                    <input type="text" class="form-control" id="bath" name="bath">
                </div>
            </div>
        </div>
        <div class="row mt-5">
            <div class="col-sm-6">
                <label for="price">Price</label>
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text">$</span>
                    </div>
                    <input type="text" class="form-control" id="price" name="price">
                </div>
            </div>
            <div class="col-sm-6">
                <label for="size">Size (In Square Feet)</label>
                <div class="input-group">
                    <input type="text" class="form-control" id="size" name="size">
                    <div class="input-group-append">
                        <span class="input-group-text">Sq. Feet</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="row mt-5">
            <div class="col-sm-8"></div>
            <div class="col-sm-2 pr-2">
                <button type="button" onclick="clearForm()" class="btn-secondary btn-block" id="clear_button">Clear</button>
            </div>
            <div class="col-sm-2 float-right">
                <button type="button" onclick="submitData()" class="btn-primary btn-block" id="submit_button">Submit</button>
            </div>
        </div>
    </form>
    <div class="row mt-5">
        <div id="accordion" class="col-sm-12">
        </div>
    </div>
</div>
</body>
</html>
<script type="text/javascript">
    function submitData() {
        beds =  parseFloat($('#beds').val(), 10);
        bath =  parseFloat($('#bath').val(), 10);
        price = parseFloat($('#price').val(), 10);
        size =  parseFloat($('#size').val(), 10);
        address =  $('#address').val();

        pricePerSqFoot = price / size;
        rent = price / 3;
        pricePerBedroom = price / beds;
        noncommonToSize = size / (beds + bath);

        $('#accordion').append(
            "<div class='card'>" +
                "<div class='card-header' data-toggle='collapse' href='#result" + price + size + "'>" +
                    "<div class='title'>" +
                        address +
                    "</div>" +
                "</div>" +
                "<div id='result" + price + size + "' class='collapse show'>" +
                    "<div class='card-body'>" +
                        "<div class='row pt-1'>" +
                            "<div class='col-sm-3'>" +
                                "<p>Beds = " + beds + "</p>" +
                            "</div>" +
                            "<div class='col-sm-3'>" +
                                "<p>Bath = " + bath + "</p>" +
                            "</div>" +
                            "<div class='col-sm-3'>" +
                                "<p>Price = $" + price + "</p>" +
                            "</div>" +
                            "<div class='col-sm-3'>" +
                                "<p>Size = " + size + " Sq. Feet</p>" +
                            "</div>" +
                        "</div>" +
                        "<div class='row pt-1'>" +
                            "<div class='col-sm-3'>" +
                                "<p>Price per Square Foot = $" + pricePerSqFoot + "</p>" +
                            "</div>" +
                            "<div class='col-sm-3'>" +
                                "<p>Ratio of Non-common areas to Size = " + noncommonToSize + "</p>" +
                            "</div>" +
                            "<div class='col-sm-3'>" +
                                "<p>Price per bedroom = $" + pricePerBedroom + "</p>" +
                            "</div>" +
                            "<div class='col-sm-3'>" +
                                "<p>Rent = $" + rent + "</p>" +
                            "</div>" +
                        "</div>" +
                    "</div>" +
                "</div>" +
           "</div>"
        )
    };

    function clearForm() {
      $('#beds').val('');
      $('#bath').val('');
      $('#price').val('');
      $('#size').val('');
      $('#address').val('');
    }


</script>